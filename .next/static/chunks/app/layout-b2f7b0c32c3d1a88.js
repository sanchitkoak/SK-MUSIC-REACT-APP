(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{3571:function(e,t,n){Promise.resolve().then(n.bind(n,6475)),Promise.resolve().then(n.bind(n,8797)),Promise.resolve().then(n.bind(n,9351)),Promise.resolve().then(n.t.bind(n,7477,23)),Promise.resolve().then(n.bind(n,8798)),Promise.resolve().then(n.t.bind(n,4597,23)),Promise.resolve().then(n.t.bind(n,4648,23))},8798:function(e,t,n){"use strict";n.r(t);var r=n(9268),s=n(5846),i=n.n(s),a=n(6008);t.default=e=>{let{slug:t,children:n}=e,s=(0,a.useSelectedLayoutSegment)()||"";return(0,r.jsx)(i(),{href:"/".concat(t),className:s===t?"active":null,children:n})}},8797:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(9268),s=n(6006),i=n(7987);let a={progressColor:"#1cc39f",waveColor:"#9094a7",fillParent:!0,responsive:!0,autoplay:!0,cursorWidth:0,barHeight:.5,barGap:3};var l=(e,t,n)=>{var r;let l=(0,s.useRef)(null),[c,u]=(0,s.useState)(!1),[o,d]=(0,s.useState)({isMuted:!1,value:1});return(0,s.useEffect)(()=>(l.current=i.Z.create({...a,url:t,container:e.current,height:e.current.clientHeight}),l.current.on("play",()=>u(!0)),l.current.on("pause",()=>u(!1)),l.current.on("finish",()=>n()),l.current.setVolume(o.isMuted?0:o.value),()=>{l.current.destroy()}),[t]),null==l||null===(r=l.current)||void 0===r||r.setVolume(o.isMuted?0:o.value),{handlePlayPause:()=>{var e;return null==l?void 0:null===(e=l.current)||void 0===e?void 0:e.playPause()},audioVolume:o,setAudioVolume:d,isPlaying:c}},c=n(1047),u=e=>{let{onChange:t,audioVolume:n}=e;return(0,r.jsxs)(c.fC,{className:"slider-root",orientation:"vertical",min:0,step:.1,max:1,value:[n.isMuted?0:n.value],onValueChange:e=>t(e),children:[(0,r.jsx)(c.fQ,{className:"slider-track",children:(0,r.jsx)(c.e6,{className:"slider-range"})}),(0,r.jsx)(c.bU,{className:"slider-thumb"})]})},o=n(6427),d=n(6628),h=n(4821),v=n(7974),f=()=>{let e=(0,d.I0)(),t=(0,s.useRef)(null),{album:n,title:i,artist:a,preview:c,duration:f}=(0,d.v9)(v.W3),{handlePlayPause:m,isPlaying:x,setAudioVolume:j,audioVolume:p}=l(t,c,()=>e((0,v.h_)())),g=(0,o.LU)(f);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:c?"player":"player disable",children:[(0,r.jsx)("img",{src:null==n?void 0:n.cover_medium,alt:""}),(0,r.jsxs)("div",{className:"song-details",children:[(0,r.jsx)("span",{className:"song-title overflowing-text",children:i}),(0,r.jsx)("span",{className:"artist-name",children:null==a?void 0:a.name})]}),(0,r.jsxs)("div",{className:"control-buttons",children:[(0,r.jsx)("button",{onClick:()=>e((0,v.Fw)()),children:(0,r.jsx)(h.Sw4,{})}),(0,r.jsx)("button",{className:"play-pause-btn",onClick:c&&m,children:x?(0,r.jsx)(h.hPq,{}):(0,r.jsx)(h.Nhx,{})}),(0,r.jsx)("button",{onClick:()=>e((0,v.h_)()),children:(0,r.jsx)(h.p0p,{})})]}),(0,r.jsx)("div",{className:"wave-container",ref:t}),(0,r.jsx)("span",{className:"duration",children:g}),(0,r.jsxs)("div",{className:"volume-slider-container",children:[(0,r.jsx)("button",{onClick:()=>j(e=>({...e,isMuted:e.value<=0||!e.isMuted})),children:p.isMuted?(0,r.jsx)(h.MCI,{}):(0,r.jsx)(h.hwG,{})}),c&&(0,r.jsx)(u,{audioVolume:p,onChange:e=>{let[t]=e;j({isMuted:t<=0,value:t})}})]})]})})}},9351:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(9268),s=n(6006),i=n(1033),a=n(730),l=n(7974),c=n(6008),u=n(6628),o=e=>{let{type:t,result:n}=e,s=(0,c.useRouter)(),i=(0,u.I0)(),{id:a,name:o,title:d,picture_medium:h,md5_image:v}=n;return(0,r.jsxs)("li",{onClick:"track"===t?()=>i((0,l._n)({playlist:[n],index:0})):()=>s.push("/".concat(t,"/").concat(a)),children:[(0,r.jsx)("img",{src:h||"https://e-cdns-images.dzcdn.net/images/artist/".concat(v,"/1000x1000-000000-80-0-0.jpg"),alt:d||o}),(0,r.jsx)("span",{className:"overflowing-text",children:o||d})]})},d=e=>{let{query:t}=e,{data:n={},error:s,isLoading:i}=(0,a.ZP)(t,async()=>{let e=await fetch("/api/search?q=".concat(t));return await e.json()});return(0,r.jsx)(r.Fragment,{children:t&&(0,r.jsxs)("div",{className:"search-results-container",children:[i&&(0,r.jsx)("strong",{children:"Loading..."}),s&&(0,r.jsx)("strong",{children:"Something went wrong..."}),Object.keys(n).map(e=>(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:e+"s"}),(0,r.jsx)("ul",{children:n[e].length?n[e].map(t=>(0,r.jsx)(o,{type:e,result:t},t.id)):(0,r.jsx)("span",{className:"not-found-error",children:"Item not found. Please try a different search term."})})]},e))]})})},h=()=>{let[e,t]=(0,s.useState)("");return(0,r.jsxs)("div",{className:"searchbar",children:[(0,r.jsx)(i.RB5,{}),(0,r.jsx)("input",{type:"text",placeholder:"Search for songs, artists...",value:e,onChange:e=>t(e.target.value)}),(0,r.jsx)(d,{query:e})]})}},6475:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(9268),s=n(3729),i=n(1592),a=n(1803),l=n(7974),c=n(2030),u=n(6209);let o=(0,u.Z)("local"),d=(0,i.OJ)({key:"favorites",storage:o},c.ZP),h=(0,a.xC)({reducer:{songs:l.ZP,favorites:d},middleware:e=>e({serializableCheck:{ignoredActions:[i._P,i.I2,i.E7,i.ex,i.e,i.Nz]}})});var v=n(6628),f=n(8637);let m=(0,f.Z)(h);var x=e=>{let{children:t}=e;return(0,r.jsx)(v.zt,{store:h,children:(0,r.jsx)(s.r,{persistor:m,children:t})})}},2030:function(e,t,n){"use strict";n.d(t,{Tc:function(){return l},_p:function(){return i},zm:function(){return a}});var r=n(1803);let s=(0,r.oM)({name:"favorites",initialState:{album:[],track:[],radio:[],artist:[],playlist:[]},reducers:{addToFavorites(e,t){let{payload:n}=t,{type:r,id:s}=n;e[r].push(s)},removeFromFavorites(e,t){let{payload:n}=t,{type:r,id:s}=n;e[r]=e[r].filter(e=>e!==s)}}}),{addToFavorites:i,removeFromFavorites:a}=s.actions,l=e=>e.favorites;t.ZP=s.reducer},7974:function(e,t,n){"use strict";n.d(t,{Fw:function(){return c},W3:function(){return u},_n:function(){return a},h_:function(){return l}});var r=n(1803),s=n(2329);let i=(0,r.oM)({name:"songs",initialState:{entities:[],activeEntity:null},reducers:{playSong(e,t){let{payload:n}=t;return{entities:n.playlist,activeEntity:n.index}},playNextSong(e){let{entities:t,activeEntity:n}=e,r=t.length-1<=n;if(r){e.activeEntity=0;return}e.activeEntity=n+1},playPreviousSong(e){let{entities:t,activeEntity:n}=e;if(n<=0){e.activeEntity=t.length-1;return}e.activeEntity=n-1}}}),{playSong:a,playNextSong:l,playPreviousSong:c}=i.actions,u=(0,s.P1)(e=>e.songs,e=>e.entities[e.activeEntity]||{});t.ZP=i.reducer},6427:function(e,t,n){"use strict";function r(e){let t=new Date(e);return t.getFullYear()}function s(e){return Intl.NumberFormat("en-us",{notation:"compact"}).format(e)}n.d(t,{JP:function(){return s},LU:function(){return i},Ws:function(){return r}});let i=e=>{if(isNaN(e))return"00:00";let t=e=>String(e).padStart(2,0);return t(Math.floor(e/60))+":"+t(Math.floor(e%60))}},4648:function(){}},function(e){e.O(0,[173,625,477,43,470,279,253,769,744],function(){return e(e.s=3571)}),_N_E=e.O()}]);